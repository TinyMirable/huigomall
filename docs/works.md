# TheMall 功能实现状态清单

> 更新时间：2025-01-27
> 基于当前代码实现情况整理

## 1. 用户认证与授权（hgmall-portal）

- [X] 用户注册
  - [X] 发送注册验证码
  - [X] 邮箱验证码注册
  - [X] 手机号注册
  - [ ] 发送手机验证码
  - [ ] 手机验证码注册
- [X] 用户登录
  - [X] 密码登录（用户名/邮箱/手机号）
  - [X] 验证码登录（邮箱）
  - [ ] 手机验证码登录
  - [X] 发送登录验证码
- [X] 验证码功能
  - [X] 发送通用验证码
  - [X] 验证码验证
- [X] 忘记密码
  - [X] 通过验证码重置密码
- [X] 修改密码
  - [X] 需要验证码验证
- [X] 用户注册为商家
- [X] JWT Token认证

## 2. 用户信息管理（hgmall-portal）

- [X] 获取用户概要信息
- [X] 修改用户名
- [X] 修改邮箱
  - [X] 需要邮箱验证码
- [X] 修改手机号
  - [X] 需要邮箱验证码（普通用户和商家）

## 3. 收货地址管理（hgmall-portal）

- [X] 获取地址列表
- [X] 获取地址详情
- [X] 创建地址
- [X] 更新地址
- [X] 删除地址
- [X] 设置默认地址

## 4. 商品浏览（hgmall-portal）

- [X] 首页展示
  - [X] 各分类最新商品
  - [X] 全站销量Top3商品
- [X] 分类商品列表
  - [X] 支持多分类筛选
  - [X] 支持分页
  - [X] 支持排序
- [X] 商品详情查看
- [X] 店铺商品列表
- [X] 店铺详情查看

## 5. 购物车管理（hgmall-portal）

- [X] 添加商品到购物车
- [X] 获取购物车列表
- [X] 修改购物车商品数量
- [X] 删除购物车商品

## 6. 订单管理（hgmall-portal）

- [X] 创建订单
  - [X] 从购物车创建
  - [X] 直接购买创建
- [X] 查看订单列表
  - [X] 支持状态筛选
  - [X] 支持分页
- [X] 查看订单详情
- [X] 支付订单
  - [ ] 微信支付沙盒
  - [ ] 支付宝支付沙盒 
- [X] 取消订单（待支付状态）
- [X] 订单状态跟踪
- [ ] 订单自动取消（30分钟未支付）
- [ ] 订单自动确认收货（24小时）

## 7. 商家店铺管理（hgmall-portal）

- [X] 创建店铺
  - [X] 需要邮箱验证码
- [X] 查看店铺列表
- [X] 查看店铺详情
- [X] 更新店铺信息
- [X] 删除店铺
- [X] 店铺状态管理
  - [X] 关闭店铺（商家主动）
  - [X] 重新开启店铺（商家）

## 8. 商家商品管理（hgmall-portal）

- [X] 创建商品
- [X] 查看商品列表
- [X] 查看商品详情
- [X] 更新商品信息
- [X] 删除商品
- [X] 商品上架/下架
- [ ] 商品库存预警提示

## 9. 商家订单管理（hgmall-portal）

- [X] 查看订单列表
  - [X] 仅显示自己店铺的订单
  - [X] 支持筛选、分页
- [X] 查看订单详情
- [X] 订单发货（更新订单状态）

## 10. 管理员功能（hgmall-admin）

### 10.1 管理员认证

- [X] 管理员登录
  - [X] 密码登录
  - [X] 验证码登录
- [X] 发送验证码

### 10.2 商家管理

- [X] 查看商家详情
- [X] 审核商家申请
- [X] 管理商家状态（启用/禁用）

### 10.3 用户管理

- [X] 查看用户列表
  - [X] 支持筛选、分页
- [X] 查看用户详情
- [X] 管理用户状态（启用/禁用）
- [X] 查看用户订单历史

### 10.4 分类管理

- [X] 创建分类
- [X] 修改分类
- [X] 删除分类
- [X] 查看分类树

### 10.5 订单管理

- [X] 查看所有订单列表
  - [X] 支持筛选、分页
- [X] 查看订单详情
- [X] 取消订单（管理员）
- [X] 查看订单统计

### 10.6 店铺管理

- [X] 查看所有店铺列表
  - [X] 支持筛选、分页
- [X] 修改店铺状态（正常/关闭/强制关闭）

### 10.7 商品管理

- [X] 修改商品状态（上架/下架/强制下架）

### 10.8 审计日志

- [X] 查看审计日志列表
  - [X] 支持筛选、分页
- [X] 查看审计日志详情

### 10.9 系统配置

- [X] 获取系统配置
- [X] 更新商家审核开关
- [X] 更新店铺审核开关

## 11. 优惠券系统

- [ ] 新用户自动发放优惠券（10张8折优惠券）
- [ ] 查看优惠券列表
- [ ] 订单使用优惠券
- [ ] 优惠券使用记录
- [ ] 优惠券管理功能

## 12. 搜索功能

- [ ] 商品关键词搜索
- [ ] 搜索历史
- [ ] 搜索结果排序

## 14. 销售报表

- [ ] 全平台销售报表（管理员）
  - [ ] 销售额统计
  - [ ] 订单数统计
  - [ ] 商品销量统计
  - [ ] 趋势图表展示
- [ ] 店铺销售报表（商家）
  - [x] 销售额统计
  - [x] 订单数统计
  - [x] 商品销量统计
  - [ ] 趋势图表展示

## 15. 退款功能

- [ ] 申请退款
  - [ ] 选择退款原因
  - [ ] 退款状态跟踪
- [ ] 退款审核
  - [ ] 商家审核自己店铺的退款
  - [ ] 管理员审核所有退款
- [ ] 退款规则
  - [ ] 7天无理由退款
  - [ ] 自动退款规则（超时自动同意）
- [ ] 退款处理
  - [ ] 恢复商品库存
  - [ ] 退款通知

## 16. 邮件通知

- [x] 付款成功邮件
- [x] 发货通知邮件
- [ ] 退款通知邮件

## 17. 短信通知

- [ ] 订单状态短信通知
- [ ] 退款短信通知

## 18. 其他功能

- [ ] 图片验证码（登录时）
- [ ] 商品收藏功能
- [ ] 商品评价功能
- [ ] 物流跟踪功能

## 19. 系统模块

- [ ] hgmall-security（安全模块）
- [ ] hgmall-search（商品搜索系统）

---

